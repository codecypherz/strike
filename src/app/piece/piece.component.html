<div *ngIf="piece" [ngClass]="{
      'piece': true,
      'moved': piece.moved,
      'player1' : piece.player.id == 'player1',
      'player2' : piece.player.id == 'player2'
      }">
  <div class="piece-outline" [style.transform]="getPieceRotationTransform()">
    <div class="piece-background"></div>
    <div class="piece-left"></div>
    <div class="piece-right"></div>
    <div class="piece-bottom"></div>
    <div class="piece-top">
      <div class="piece-top-triangle-outline"></div>
      <div class="piece-top-triangle-background"></div>
    </div>
  </div>

  <div class="piece-name">{{piece.name}}</div>

  <div class="piece-health">
    <div class="piece-health-background"></div>
    <img src="/images/icon/black_heart.png">
    <div class="piece-health-number">
      {{piece.getHealth()}}
    </div>
  </div>

  <!-- These are the buttons that show up once the piece is selected. -->
  <div *ngIf="piece.selected" class="piece-buttons">
    <button class="piece-button cancel-selection" (click)="cancel($event)">
      <div class="piece-button-img-container">
        <img class="cancel-selection-image" src="/images/icon/cancel_icon_2.png">
      </div>
    </button>
    <button class="piece-button confirm-move" (click)="confirmMove($event)"
        [disabled]="piece.moved">
      <div class="piece-button-img-container">
        <img class="confirm-move-image" src="/images/icon/move_icon.ico">
      </div>
    </button>
    <button class="piece-button confirm-attack" (click)="confirmAttack($event)"
        [disabled]="piece.attacked">
      <div class="piece-button-img-container">
        <img class="confirm-attack-image" src="/images/icon/attack_icon.png">
      </div>
    </button>
    <button class="piece-button rotate-cw" (click)="rotateClockwise($event)"
      [disabled]="piece.moved && piece.attacked">
      <div class="piece-button-img-container">
        <img class="rotate-cw-image" src="/images/icon/rotate_icon.ico">
      </div>
    </button>
    <button class="piece-button rotate-ccw" (click)="rotateCounterClockwise($event)"
        [disabled]="piece.moved && piece.attacked">
      <div class="piece-button-img-container">
        <img class="rotate-ccw-image" src="/images/icon/rotate_icon.ico">
      </div>
    </button>
  </div>
</div>